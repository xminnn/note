<!DOCTYPE html>
<html lang="zh" οndragstart="return false;">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>surfacebook2安装archlinux记录</title>
    <link rel="stylesheet" href="../index.css" cache="force">
</head>

<body οndragstart="return false;">
    <div style="position: fixed; left: 0; top: 0; width: 100%; height: 100%; padding: 0;">
        <div class="left-container">
            <div class="header-container">
                <a href="https://github.com/xminnn"><img src="../icon.jpg" cache="force"></a>
            </div>
            <div id="dir-container">
                <div class="node-dir">
<div class="node-dir-name">c++</div>
<div class="node-children">
<div class="node-item">
<div id="article-1745078040871" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745078040871.html">代码静态检测工具</a>
</div>
</div>
<div class="node-item">
<div id="article-1" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1.html">共享内存</a>
</div>
</div>
<div class="node-item">
<div id="article-2" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./2.html">开源项目</a>
</div>
</div>
<div class="node-item">
<div id="article-3" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./3.html">开源游戏引擎以及工具</a>
</div>
</div>
<div class="node-item">
<div id="article-10" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./10.html">推荐文章</a>
</div>
</div>
<div class="node-item">
<div id="article-4" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./4.html">性能分析</a>
</div>
</div>
<div class="node-item">
<div id="article-7" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./7.html">c++基础总结</a>
</div>
</div>
<div class="node-item">
<div id="article-8" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./8.html">c++模板的偏特化与全特化</a>
</div>
</div>
<div class="node-item">
<div id="article-1745078040863" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745078040863.html">c++模板元编程</a>
</div>
</div>
<div class="node-item">
<div id="article-1745078040864" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745078040864.html">c++虚表的内存结构</a>
</div>
</div>
<div class="node-item">
<div id="article-1745078040862" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745078040862.html">c++右值引用</a>
</div>
</div>
<div class="node-item">
<div id="article-5" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./5.html">fopen</a>
</div>
</div>
<div class="node-item">
<div id="article-6" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./6.html">icmp实现ping</a>
</div>
</div>
<div class="node-item">
<div id="article-1745078880027" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745078880027.html">Makefile</a>
</div>
</div>
<div class="node-item">
<div id="article-9" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./9.html">mmap</a>
</div>
</div>
<div class="node-item">
<div id="article-1745078040869" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745078040869.html">opengl积雪效果</a>
</div>
</div>
<div class="node-item">
<div id="article-1745082315831" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745082315831.html">socket配置</a>
</div>
</div>
<div class="node-item">
<div id="article-1745078040870" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745078040870.html">tcp抓包</a>
</div>
</div>
</div>
</div>
<div class="node-dir">
<div class="node-dir-name">linux</div>
<div class="node-children">
<div class="node-item">
<div id="article-11" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./11.html">常见问题</a>
</div>
</div>
<div class="node-item">
<div id="article-12" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./12.html">常用命令</a>
</div>
</div>
<div class="node-item">
<div id="article-13" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./13.html">代理</a>
</div>
</div>
<div class="node-item">
<div id="article-21" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./21.html">镜像源</a>
</div>
</div>
<div class="node-item">
<div id="article-20" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./20.html">配置网络</a>
</div>
</div>
<div class="node-item">
<div id="article-22" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./22.html">设置core文件</a>
</div>
</div>
<div class="node-item">
<div id="article-14" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./14.html">用户与权限</a>
</div>
</div>
<div class="node-item">
<div id="article-15" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./15.html">dns修改</a>
</div>
</div>
<div class="node-item">
<div id="article-1745078040872" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745078040872.html">proot</a>
</div>
</div>
<div class="node-item">
<div id="article-16" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./16.html">qemu</a>
</div>
</div>
<div class="node-item">
<div id="article-17" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./17.html">ssh穿透</a>
</div>
</div>
<div class="node-item">
<div id="article-18" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./18.html">surfacebook2安装archlinux记录</a>
</div>
</div>
<div class="node-item">
<div id="article-19" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./19.html">systemctl守护自定义程序</a>
</div>
</div>
</div>
</div>
<div class="node-dir">
<div class="node-dir-name">服务</div>
<div class="node-children">
<div class="node-item">
<div id="article-27" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./27.html">elasticsearch</a>
</div>
</div>
<div class="node-item">
<div id="article-26" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./26.html">kafka</a>
</div>
</div>
<div class="node-item">
<div id="article-25" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./25.html">mongo</a>
</div>
</div>
<div class="node-item">
<div id="article-24" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./24.html">mysql</a>
</div>
</div>
<div class="node-item">
<div id="article-23" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./23.html">redis</a>
</div>
</div>
</div>
</div>
<div class="node-dir">
<div class="node-dir-name">架构</div>
<div class="node-children">
<div class="node-item">
<div id="article-1745082315832" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745082315832.html">好文推荐</a>
</div>
</div>
<div class="node-item">
<div id="article-29" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./29.html">游戏任务系统</a>
</div>
</div>
</div>
</div>
<div class="node-dir">
<div class="node-dir-name">算法</div>
<div class="node-children">
<div class="node-item">
<div id="article-30" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./30.html">查找算法</a>
</div>
</div>
<div class="node-item">
<div id="article-35" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./35.html">调度算法</a>
</div>
</div>
<div class="node-item">
<div id="article-1745078040877" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745078040877.html">动态规划</a>
</div>
</div>
<div class="node-item">
<div id="article-42" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./42.html">二叉树</a>
</div>
</div>
<div class="node-item">
<div id="article-34" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./34.html">缓存淘汰算法</a>
</div>
</div>
<div class="node-item">
<div id="article-36" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./36.html">加密算法</a>
</div>
</div>
<div class="node-item">
<div id="article-45" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./45.html">链表</a>
</div>
</div>
<div class="node-item">
<div id="article-31" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./31.html">排序算法</a>
</div>
</div>
<div class="node-item">
<div id="article-44" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./44.html">其他常见算法题</a>
</div>
</div>
<div class="node-item">
<div id="article-33" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./33.html">时间轮</a>
</div>
</div>
<div class="node-item">
<div id="article-1745078040879" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745078040879.html">算法思想</a>
</div>
</div>
<div class="node-item">
<div id="article-32" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./32.html">跳表</a>
</div>
</div>
<div class="node-item">
<div id="article-37" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./37.html">寻路算法</a>
</div>
</div>
<div class="node-item">
<div id="article-1745078040878" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745078040878.html">游戏开发中的噪声算法</a>
</div>
</div>
<div class="node-item">
<div id="article-43" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./43.html">栈和队列</a>
</div>
</div>
<div class="node-item">
<div id="article-38" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./38.html">正太分布随机数算法</a>
</div>
</div>
<div class="node-item">
<div id="article-39" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./39.html">huffman压缩算法</a>
</div>
</div>
<div class="node-item">
<div id="article-40" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./40.html">lz77压缩算法</a>
</div>
</div>
<div class="node-item">
<div id="article-41" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./41.html">md5算法</a>
</div>
</div>
</div>
</div>
<div class="node-dir">
<div class="node-dir-name">工具</div>
<div class="node-children">
<div class="node-item">
<div id="article-51" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./51.html">软媒工具组件精选</a>
</div>
</div>
<div class="node-item">
<div id="article-1745078040876" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745078040876.html">网址大全</a>
</div>
</div>
<div class="node-item">
<div id="article-49" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./49.html">ai对话</a>
</div>
</div>
<div class="node-item">
<div id="article-50" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./50.html">ai绘画</a>
</div>
</div>
<div class="node-item">
<div id="article-1745078040874" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745078040874.html">blender</a>
</div>
</div>
<div class="node-item">
<div id="article-1745078040875" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745078040875.html">docker</a>
</div>
</div>
<div class="node-item">
<div id="article-47" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./47.html">git</a>
</div>
</div>
<div class="node-item">
<div id="article-48" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./48.html">svn</a>
</div>
</div>
<div class="node-item">
<div id="article-53" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./53.html">vim</a>
</div>
</div>
<div class="node-item">
<div id="article-46" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./46.html">vscode</a>
</div>
</div>
<div class="node-item">
<div id="article-52" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./52.html">winfsp</a>
</div>
</div>
</div>
</div>
<div class="node-dir">
<div class="node-dir-name">其他</div>
<div class="node-children">
<div class="node-item">
<div id="article-56" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./56.html">开源协议</a>
</div>
</div>
<div class="node-item">
<div id="article-57" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./57.html">终端输出特殊代码</a>
</div>
</div>
<div class="node-item">
<div id="article-1745078040873" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./1745078040873.html">Android开发环境快速搭建</a>
</div>
</div>
<div class="node-item">
<div id="article-55" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./55.html">python简单日志工具</a>
</div>
</div>
<div class="node-item">
<div id="article-58" class="node-one">
<div class="tab_1"></div>
<a clas="node-name" href="./58.html">windows相关</a>
</div>
</div>
</div>
</div>

            </div>
        </div>
        <div class="right-container">
            <div id="md-container">
                <div class="title"> surfacebook2安装archlinux记录 </div>
                <div class="info">
                    <div class="create_time">创建:2023-10-27 17:49</div>
                    <div class="update_time">更新:2023-10-27 17:49</div>
                </div>
                <div class="line"></div>

                <div id="md-container-content" style="position: relative;"><h3 id="">修改分辨率</h3>
<pre><code class="sh language-sh">vim ~/.Xresources
</code></pre>
<p>默认是96无放缩，放缩乘以倍数即可</p>
<pre><code class="sh language-sh">Xft.dpi: 144
</code></pre>
<p>生效需要重启</p>
<h3 id="archlinux">archlinux 中国源</h3>
<pre><code class="sh language-sh">vim /etc/pacman.d/mirrorlist
</code></pre>
<pre><code class="vim language-vim">## 163
Server = http://mirrors.163.com/archlinux/$repo/os/$arch
## aliyun
Server = http://mirrors.aliyun.com/archlinux/$repo/os/$arch
## 清华大学
Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch
</code></pre>
<h3 id="-1">解决签名问题</h3>
<p>修改 <code>/etc/pacman.conf</code></p>
<pre><code class="vim language-vim">SigLevel = Never
</code></pre>
<h3 id="surfacelinux">添加 surface linux 源</h3>
<p>修改/etc/hosts， 如果无法访问的话</p>
<pre><code class="sh language-sh">140.82.114.4 github.com
140.82.114.4 gist.github.com
185.199.108.153 assets-cdn.github.com
151.101.64.133 raw.githubusercontent.com
151.101.108.133 gist.githubusercontent.com
151.101.108.133 cloud.githubusercontent.com
151.101.108.133 camo.githubusercontent.com
151.101.108.133 avatars0.githubusercontent.com
151.101.108.133 avatars1.githubusercontent.com
151.101.108.133 avatars2.githubusercontent.com
151.101.108.133 avatars3.githubusercontent.com
151.101.108.133 avatars4.githubusercontent.com
151.101.108.133 avatars5.githubusercontent.com
151.101.108.133 avatars6.githubusercontent.com
151.101.108.133 avatars7.githubusercontent.com
151.101.108.133 avatars8.githubusercontent.com 
</code></pre>
<pre><code class="sh language-sh">185.199.108.133 raw.githubusercontent.com
</code></pre>
<pre><code class="sh language-sh">curl -s https://raw.githubusercontent.com/linux-surface/linux-surface/master/pkg/keys/surface.asc | sudo pacman-key --add -
sudo pacman-key --finger 56C464BAAC421453
sudo pacman-key --lsign-key 56C464BAAC421453
</code></pre>
<p>修改 /etc/pacman.conf 添加</p>
<pre><code class="sh language-sh">[linux-surface]
Server = https://pkg.surfacelinux.com/arch/
After doing that you need to refresh the repository metadata, then you can install the linux-surface kernel and its dependencies. You should also enable the iptsd service for touchscreen support.
</code></pre>
<h3 id="-2">更新系统</h3>
<pre><code class="sh language-sh">sudo pacman -Syyu
sudo pacman -S linux-surface linux-surface-headers iptsd ## surfacebook 适配的内核
sudo systemctl enable iptsd
</code></pre>
<p>error: failed to prepare transaction (could not satisfy dependencies)</p>
<pre><code class="sh language-sh">pacman -Rdd xxx 移除不可以升级的依赖
</code></pre>
<h3 id="yay">安装yay</h3>
<pre><code class="sh language-sh">sudo pacman -S --needed git make gcc
git clone https://aur.archlinux.org/yay.git
cd yay
export GOPROXY=https://goproxy.cn  ## 解决 go 代理无法访问的问题
makepkg -si
</code></pre>
<h3 id="secureboot">解决secureboot</h3>
<p>shim</p>
<pre><code class="sh language-sh">.
</code></pre>
<pre><code class="sh language-sh">sudo pacman -S linux-surface-secureboot-mok
sudo grub-mkconfig -o /boot/grub/grub.cfg
</code></pre>
<p>Finally, reboot your system and you should boot into the linux-surface kernel. Please make sure you are actually using the right kernel by checking if the output of uname -a contains the string surface. If it doesn't contain that string, you are still using the default kernel and need to configure your bootloader.</p>
<h3 id="-3">安装字体</h3>
<pre><code class="sh language-sh">sudo pacman -S wqy-microhei  #安装微软亚黑字体
yay -S ttf-font-awesome
yay -S ttf-material-icons 


## 安装本地ttf字体
mkdir ~/.local/share/fonts
cp Microsoft-Yahei-Mono.ttf ~/.local/share/fonts
fc-cache -vf
fc-list
</code></pre>
<p>vim 输入unicode</p>
<pre><code class="sh language-sh">i       go into INSERT mode
Ctrl+v  go into ins-special-keys mode
u2713   insert the Unicode character CHECK MARK (U+2713)
</code></pre>
<p>font-awesome 部分图标: <a href="http://www.fontawesome.com.cn/faicons/">http://www.fontawesome.com.cn/faicons/</a></p>
<p>解决中文显示问题</p>
<pre><code class="sh language-sh">sudo vim /usr/share/conky/conky_maia
</code></pre>
<p>将 conky.text 的前四行字体改为 anti 即可</p>
<p>设置系统为中文见 <a href="#中文输入法">中文输入法</a></p>
<h3 id="-4">安装软件</h3>
<h5 id="-5">更换终端</h5>
<pre><code class="sh language-sh">sudo pacman -S terminator
</code></pre>
<h5 id="vscode">vscode</h5>
<pre><code class="sh language-sh">yay -S visual-studio-code-bin
</code></pre>
<h5 id="edge">edge</h5>
<pre><code class="sh language-sh">yay -S microsoft-edge-dev-bin
</code></pre>
<h5 id="ssr">ssr</h5>
<pre><code class="sh language-sh">wget https://github.com/qingshuisiyuan/electron-ssr-backup/releases/download/v0.2.6/electron-ssr-0.2.6.pacman
yay -S gconf
sudo pacman -U tetrd.linux_amd64.pkg.tar.xz --assume-installed  libappindicator-sharp
</code></pre>
<h5 id="edge-1">edge代理设置</h5>
<pre><code class="sh language-sh">microsoft-edge-dev --proxy-pac-url=http://127.0.0.1:2333/proxy.pac
</code></pre>
<h5 id="tabby">tabby</h5>
<pre><code class="sh language-sh">wget https://github.com/Eugeny/tabby/releases/download/v1.0.156/tabby-1.0.156-linux.pacman
sudo pacman -U tabby-1.0.156-linux.pacman
</code></pre>
<h5 id="-6">中文输入法</h5>
<pre><code class="sh language-sh">yay -S fcitx-im kcm-fcitx fcitx-googlepinyin fcitx-configtool

sudo vim ~/.xprofile

## 设置系统为中文
export LANG=zh_CN.UTF-8
export LC_ALL=zh_CN.UTF-8

export GTK_IM_MODULE="fcitx"
export QT_IM_MODULE="fcitx"
export XMODIFIERS="@im=fcitx"


vim ~/.i3/config 添加启动

ctrl+space 激活输入法
</code></pre>
<p>主题和词库配置：<a href="https://bbs.deepin.org/zh/post/223743">https://bbs.deepin.org/zh/post/223743</a></p>
<h5 id="svn">svn</h5>
<pre><code>yay -S python-nautilus python-configobj pygtk pysvn dbus-python python-dulwich subversion meld rabbitvcs
</code></pre>
<h5 id="flameshot">flameshot</h5>
<p>截图工具</p>
<pre><code>yay -S flameshot
</code></pre>
<h3 id="-7">设置壁纸</h3>
<pre><code class="sh language-sh">yay -S feh
</code></pre>
<p>.i3/config 中添加</p>
<pre><code class="sh language-sh">exec feh --randomize --bg-fill ~/data/img/bg
</code></pre>
<h3 id="-8">地址记录</h3>
<p><a href="http://119.29.164.225:10085/svn/project/cpp">http://119.29.164.225:10085/svn/project/cpp</a></p>
<p><a href="http://119.29.164.225:10085/svn/project/linux/img">http://119.29.164.225:10085/svn/project/linux/img</a></p>
<h3 id="-9">主题修改</h3>
<p>gnome-tweaks</p>
<pre><code>将 主题 放到 /home/$USER/.themes 文件夹下；
将 图标 / 光标 放到 /home/$USER/.icons 文件夹下；
</code></pre>
<p>注意层级，主题文件夹大概长这样：</p>
<p>Sierra-light<br />
├── gnome-shell<br />
├── gtk-2.0<br />
├── gtk-3.0<br />
└── index.theme</p>
<h2 id="-10">状态显示在桌面</h2>
<p>Conky 是一个应用于桌面环境的系统监视软件，可以在桌面上监控系统运行状态、网络状态等一系列参数<br />
<a href="https://github.com/brndnmtthws/conky/">https://github.com/brndnmtthws/conky/</a></p>
<h2 id="-11">登陆界面美化</h2>
<pre><code class="sh language-sh">yay -S lightdm-webkit2-greeter

sudo vim /etc/lightdm/lightdm.conf
greeter-session=lightdm-webkit2-greeter
</code></pre>
<p>主题保存在 /usr/share/lightdm-webkit/themes/</p>
<pre><code class="sh language-sh">sudo vim /etc/lightdm/lightdm-webkit2-greeter.conf
webkit_theme = $自己下载的主题名称
</code></pre>
<p><a href="https://v2ex.com/t/630589">https://v2ex.com/t/630589</a></p>
<p>主题推荐</p>
<p><a href="https://github.com/Sujaykumarh/lightdm-theme-sapphire">https://github.com/Sujaykumarh/lightdm-theme-sapphire</a></p>
<h3 id="-12">设置自动登陆（跳过登陆界面）</h3>
<p>参考：<a href="https://wiki.archlinux.org/title/LightDM#Enabling_autologin">https://wiki.archlinux.org/title/LightDM#Enabling_autologin</a></p>
<p>Edit the LightDM configuration file and ensure these lines are uncommented and correctly configured:</p>
<pre><code class="sh language-sh">/etc/lightdm/lightdm.conf

[Seat:*]
autologin-user=username
</code></pre>
<p>You must be part of the autologin group to be able to login automatically without entering your password:</p>
<pre><code class="sh language-sh"># groupadd -r autologin
# gpasswd -a username autologin
</code></pre>
<h3 id="ssh">开启 ssh 服务</h3>
<pre><code class="sh language-sh">sudo systemctl enable sshd.service 开机启动
sudo systemctl start sshd.service  立即启动
sudo systemctl status sshd.service
</code></pre>
<p>查看防火墙状态</p>
<pre><code class="sh language-sh">sudo systemctl status iptables
sudo systemctl status firewall
sudo systemctl status ufw ## manjaro i3 应该是这个

sudo ufw allow ssh

sudo ufw allow [in|out] 8888/tcp
sudo ufw delete allow [in|out] &lt;port/rule&gt;
</code></pre>
<p>查看已经开放的端口</p>
<pre><code class="sh language-sh">sudo pacman install ufw-extras
sudo ufw status numbered
</code></pre>
<h3 id="rzsz">rz/sz支持</h3>
<pre><code class="sh language-sh">yay -S lrzsz
</code></pre>
<h3 id="-13">设置默认浮动</h3>
<p>force floating for all new windows</p>
<pre><code class="txt language-txt">for_window [class="[.]*"] floating enable
</code></pre>
<p>browser pop-ups</p>
<pre><code class="txt language-txt">for_window [window_role="pop-up"] floating enable
</code></pre>
<h3 id="wintab">win+tab切换窗口</h3>
<pre><code class="txt language-txt">bindsym $mod+Tab focus next
bindsym $mod+Shift+Tab focus prev
</code></pre></div>
            </div>
        </div>
    </div>

    <script>
        let scrollTop = window.localStorage.getItem('scrollTop');
        let container = document.getElementById("dir-container");
        if (scrollTop) {
            container.scrollTop = scrollTop;
        } else {
            let id = window.location.pathname.substring(window.location.pathname.lastIndexOf('/') + 1);
            id = id.substring(0, id.length - 5);
            if (id != "index") {
                const autoScoll = function (element, root) {
                    element.scrollIntoView({
                        behavior: "smooth",
                        block: "nearest"
                    });
                };
                console.log(`articles-${id}`);
                autoScoll(document.getElementById(`article-${id}`), container);
            }
        }
        window.onbeforeunload = function () {
            window.localStorage.setItem('scrollTop', container.scrollTop);
        };
    </script>

    <link rel="stylesheet" href="../third/pace-theme-minimal.tmpl.css" cache="force">
    <link rel="stylesheet" href="../third/atom-one-dark.css" cache="force">
    <script data-pace-options='{ "ajax": false }' src="../third/pace.js" cache="force"></script>
    <script src="../third/highlight.pack.js" cache="force"></script>

    <script>
        let mdContainer = document.getElementById("md-container");
        mdContainer.querySelectorAll("pre code");
        hljs.initHighlightingOnLoad();
        for (const it of mdContainer.querySelectorAll("pre code")) {
            hljs.highlightBlock(it);
        }

        //点击查看原图
        for (const img of document.querySelectorAll("#md-container img")) {
            img.onclick = function () {
                console.log("click");
                let newDiv = document.createElement('div');
                newDiv.setAttribute("class", "img-view-bkg");

                let hitDiv = document.createElement('div');
                hitDiv.setAttribute("class", "img-view-hint");
                hitDiv.innerHTML = "双击图片或者点击空白处取消图片查看";

                let newImg = document.createElement('img');
                newImg.setAttribute("class", "img-view-img");
                newImg.src = this.src;

                let newSpan = document.createElement("div");
                newSpan.setAttribute("class", "img-view");
                newSpan.appendChild(newDiv);
                newSpan.appendChild(newImg);
                newSpan.appendChild(hitDiv);
                document.body.appendChild(newSpan);

                newImg.ondblclick = function () {
                    document.body.removeChild(newSpan);
                };

                newDiv.onclick = function () {
                    document.body.removeChild(newSpan);
                };
            };
        }

        MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
            chtml: {
                displayAlign: 'left'
            }
        };
        let oldOnLoad = window.onload;
        window.onload = () => {
            let spt = document.createElement("script");
            spt.setAttribute("id", "MathJax-script");
            spt.setAttribute("async", true);
            spt.setAttribute("src", "../third/tex-chtml.js");
            document.body.append(spt);

            if (oldOnLoad) {
                oldOnLoad();
            }
        };
    </script>
</body>

</html>